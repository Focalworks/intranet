function projectCtrl(a,b){b.get().then(function(b){a.projects=b.data})}function ticketCtrl(a,b,c){a.boardId=b.board,c.load(a.boardId).then(function(b){a.tickets=b.data})}var kanbanize=angular.module("kanbanize",["ngRoute"]);kanbanize.config(["$routeProvider",function(a){a.when("/kanban/projects",{templateUrl:"kanban-api/templates/project-list",pageTitle:"Your kanbanize projects"}),a.when("/kanban/:board/tickets",{templateUrl:"kanban-api/templates/tickets",pageTitle:"Tickets from this board"}),a.when("/kanban/import",{templateUrl:"admin/template/import",pageTitle:"Import expenses"}),a.otherwise({pageTitle:"Your kanbanize projects",redirectTo:"/kanban/projects"})}]),kanbanize.run(["$location","$rootScope",function(a,b){b.$on("$routeChangeSuccess",function(a,c){b.pageTitle=c.$$route.pageTitle})}]),kanbanize.factory("projectsFactory",["$http",function(a){var b={};return b.data="",b.load=function(){return this.data=a.get(base_url+"kanban/all-projects").then(function(a){return a}),this.data},b.get=function(){return""===this.data?this.load():this.data},b}]),kanbanize.factory("ticketsFactory",["$http",function(a){var b={};return b.data="",b.load=function(b){return this.data=a.get("http://localhost/focalworks-intranet/public/kanban/all-tickets?bid="+b).then(function(a){return a}),this.data},b.get=function(a){return""===this.data?this.load(a):this.data},b}]),projectCtrl.$inject=["$scope","projectsFactory"],ticketCtrl.$inject=["$scope","$routeParams","ticketsFactory"];